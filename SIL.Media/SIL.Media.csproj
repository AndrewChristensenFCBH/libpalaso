<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>net461</TargetFrameworks>
    <RootNamespace>SIL.Media</RootNamespace>
    <AssemblyTitle>SIL.Media</AssemblyTitle>
    <Configurations>Debug;Release</Configurations>
    <Description>A cross-platform audio/media library</Description>
    <Company>SIL International</Company>
    <Authors>SIL International</Authors>
    <Product>libpalaso</Product>
    <Copyright>Copyright © 2010-2019 SIL International</Copyright>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <PackageProjectUrl>https://github.com/sillsdev/libpalaso</PackageProjectUrl>
    <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
    <OutputPath>../output/$(Configuration)</OutputPath>
    <PackageOutputPath>../output</PackageOutputPath>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <!-- We can't sign this assembly because it depends on irrKlang.NET4.dll which is a
    mixed-mode assembly (contains both managed code and native code for a particular
    processor architecture) -->
    <SignAssembly>false</SignAssembly>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="GitVersionTask.alt" Version="[4.0.2-alpha-0004,)">
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
    <PackageReference Include="NAudio" Version="1.8.4" />
    <PackageReference Include="SIL.ReleaseTasks" Version="[2.2.0,)">
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\SIL.Core.Desktop\SIL.Core.Desktop.csproj" />
    <ProjectReference Include="..\SIL.Core\SIL.Core.csproj" />
  </ItemGroup>
  <ItemGroup>
    <Reference Include="irrKlang.NET4, Version=1.0.5235.17346, Culture=neutral, PublicKeyToken=null">
      <HintPath>..\lib\x86\irrKlang.NET4.dll</HintPath>
      <Private>false</Private>
    </Reference>
    <Reference Include="System.Windows.Forms" />
  </ItemGroup>
<Target Name="AfterBuild" AfterTargets="Build">
  <Copy SourceFiles="../lib/x64/irrKlang.NET4.dll;../lib/x64/ikpMP3.dll;../lib/x64/ikpFlac.dll" DestinationFolder="$(OutputPath)/net461/lib/win-x64" />
  <Copy SourceFiles="../lib/x86/irrKlang.NET4.dll;../lib/x86/ikpMP3.dll;../lib/x86/ikpFlac.dll" DestinationFolder="$(OutputPath)/net461/lib/win-x86" />
</Target>
</Project>
